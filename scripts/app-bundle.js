define("app",["require","exports","aurelia-router"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){this.router=i.Router}return t.prototype.configureRouter=function(t,e){t.title="Improve",t.map([{route:"",moduleId:"empty/no-selection",nav:!0,title:"Select"},{route:"vpsa/",moduleId:"vpsa/vpsa",nav:!0,title:"SIR",name:"vpsa"}]),this.router=e},t}();e.App=a}),define("environment",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("main",["require","exports","./environment"],function(t,e,i){"use strict";function a(t){t.use.standardConfiguration().plugin("aurelia-computed").feature("resources"),i.default.debug&&t.use.developmentLogging(),i.default.testing&&t.use.plugin("aurelia-testing"),t.start().then(function(){return t.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=a});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};define("navbar",["require","exports","aurelia-framework"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){this.router=null}return t}();__decorate([i.bindable,__metadata("design:type",Object)],a.prototype,"router",void 0),e.NavBar=a});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};define("charts/dynamic-bar-chart",["require","exports","d3","aurelia-framework"],function(t,e,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.bindingEngine=e,this.margin={top:20,right:20,bottom:30,left:40},this.x_size=900,this.y_size=500,this.x_attribute="salesperson",this.y_attribute="sales",this.data=[],this.element=t}return t.prototype.attached=function(){var t=this;this.data&&(this.subscription=this.bindingEngine.collectionObserver(this.data).subscribe(function(e){return t.dataMutated(e)})),this.width=this.x_size-this.margin.left-this.margin.right,this.height=this.y_size-this.margin.top-this.margin.bottom,this.initChart(),this.updateChart()},t.prototype.dataMutated=function(t){this.updateChart()},t.prototype.unbind=function(){this.subscription.dispose()},t.prototype.initChart=function(){this.svg=i.select(this.element).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=i.scaleBand().range([0,this.width]).padding(.1),this.y=i.scaleLinear().range([this.height,0]),this.svg.append("g").attr("transform","translate(0,"+this.height+")").attr("class","xAxis"),this.svg.append("g").attr("class","yAxis"),this.tooltip=i.select(this.element).append("div").attr("class","tooltip").style("opacity",0)},t.prototype.updateChart=function(){var t=this;this.x.domain(this.data.map(function(e){return e[t.x_attribute]})),this.y.domain([0,i.max(this.data,function(e){return e[t.y_attribute]})]);var e=this.svg.selectAll(".bar").data(this.data);this.svg.selectAll(".xAxis").call(i.axisBottom(this.x)),this.svg.selectAll(".yAxis").call(i.axisLeft(this.y)),e.enter().append("rect").attr("class","bar").on("mouseover",function(e){t.mo=e[t.x_attribute],t.tooltip.transition().duration(100).style("opacity",.9),t.tooltip.html(e[t.x_attribute]).style("left",t.x(e[t.x_attribute])+t.x.bandwidth()/2+"px").style("top",t.y(e[t.y_attribute])+60+"px")}).on("mouseout",function(e){t.tooltip.transition().duration(500).style("opacity",0)}).merge(e).attr("width",this.x.bandwidth()).attr("x",function(e){return t.x(e[t.x_attribute])}).transition().attr("y",function(e){return t.y(e[t.y_attribute])}).attr("height",function(e){return t.height-t.y(e[t.y_attribute])}),e.exit().remove()},t}();__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"margin",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"x_size",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"y_size",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"x_attribute",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"y_attribute",void 0),__decorate([a.bindable({defaultBindingMode:a.bindingMode.twoWay}),__metadata("design:type",Object)],n.prototype,"mo",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"data",void 0),n=__decorate([a.inject(Element,a.BindingEngine),a.noView(),__metadata("design:paramtypes",[Object,Object])],n),e.DynamicBarChart=n});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};define("charts/line-chart",["require","exports","d3","aurelia-framework"],function(t,e,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.bindingEngine=e,this.margin={top:20,right:20,bottom:30,left:40},this.x_size=900,this.y_size=500,this.x_attribute="x",this.y_attribute="y",this.data=[],this.element=t}return t.prototype.attached=function(){var t=this;this.data&&(this.subscription=this.bindingEngine.collectionObserver(this.data).subscribe(function(e){return t.dataMutated(e)})),this.width=this.x_size-this.margin.left-this.margin.right,this.height=this.y_size-this.margin.top-this.margin.bottom,this.initChart(),this.updateChart()},t.prototype.dataMutated=function(t){this.updateChart()},t.prototype.unbind=function(){this.subscription.dispose()},t.prototype.initChart=function(){var t=this;this.svg=i.select(this.element).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=i.scaleLinear().range([0,this.width]),this.y=i.scaleLinear().range([this.height,0]),this.svg.append("g").attr("transform","translate(0,"+this.height+")").attr("class","xAxis"),this.svg.append("g").attr("class","yAxis"),this.valueline=i.line().x(function(e){return t.x(e[t.x_attribute])}).y(function(e){return t.y(e[t.y_attribute])})},t.prototype.updateChart=function(){var t=this,e=i.max(this.data,function(e){return i.max(e,function(e){return e[t.x_attribute]})}),a=i.max(this.data,function(e){return i.max(e,function(e){return e[t.y_attribute]})});this.x.domain([0,e]),this.y.domain([0,a]);var n=this.svg.selectAll(".svg").data(this.data);this.svg.selectAll(".xAxis").call(i.axisBottom(this.x)),this.svg.selectAll(".yAxis").call(i.axisLeft(this.y)),n.enter().append("path").attr("class","line").merge(n).attr("d",function(e){return t.valueline(e)}),n.exit().remove()},t}();__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"margin",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"x_size",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"y_size",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"x_attribute",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"y_attribute",void 0),__decorate([a.bindable({defaultBindingMode:a.bindingMode.twoWay}),__metadata("design:type",Object)],n.prototype,"mo",void 0),__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"data",void 0),n=__decorate([a.inject(Element,a.BindingEngine),a.noView(),__metadata("design:paramtypes",[Object,Object])],n),e.LineChart=n}),define("empty/no-selection",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.message="No Route Selected"}return t}();e.NoSelection=i}),define("resources/index",["require","exports"],function(t,e){"use strict";function i(t){t.globalResources(["./elements/loading-indicator"])}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=i}),define("vis/vis",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.test="Vis!",this.data=[{salesperson:"Bob",sales:12},{salesperson:"Robin",sales:1},{salesperson:"Anne",sales:8},{salesperson:"Chris",sales:5}]}return t.prototype.add=function(){this.data.push({salesperson:"Test",sales:20})},t}();e.Vis=i});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};define("vpsa/vpsa",["require","exports","aurelia-framework"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){var t=this;this.param1=1,this.param2=1,this.TS=1,this.ND=21900,this.S0=.1,this.I0=1e-4,this.R0=1-this.S0-this.I0,this.rho=.5,this.v=1/25550,this.mu=1/25550,this.beta=520/365,this.gamma=1/7,this.INPUT=[this.S0,this.I0,this.R0],this.data=[],this.SIR=function(e,i){var a=[0,0,0],n=i;return a[0]=t.v-t.beta*n[0]*n[1]/n.reduce(function(t,e){return t+e},0)-t.mu*n[0],a[1]=t.beta*n[0]*n[1]/n.reduce(function(t,e){return t+e},0)-(t.gamma+t.mu)*n[1]/(1-t.rho),a[2]=t.gamma*n[1]-t.mu*n[2],a}}return t.prototype.cartesian=function(t){function e(n,r){for(var o=0,s=t[r].length;o<s;o++){var c=n.slice(0);c.push(t[r][o]),r==a?i.push(c):e(c,r+1)}}var i=[],a=t.length-1;return e([],0),i},t.prototype.get_params=function(){var t=[.4,.5,.6],e=[1/25550,1/29200,1/32850],i=[1/25550,1/29200,1/32850],a=[1,520/365],n=[1/6,1/7];return this.cartesian([t,e,i,a,n])},t.prototype.vspa=function(){var t=this;this.get_params().forEach(function(e){t.rho=e[0],t.v=e[1],t.mu=e[2],t.beta=e[3],t.gamma=e[4];for(var i=numeric.dopri(0,t.ND,t.INPUT,t.SIR,1e-6,1e3),a=[],n=0;n<i.x.length;n++)a.push({x:i.x[n],sus:i.y[n][0],inf:i.y[n][1],rec:i.y[n][2],pop:i.y[n][0]+i.y[n][1]+i.y[n][2]});t.data.push(a)})},t}();a=__decorate([i.autoinject],a),e.Vspa=a});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};define("resources/elements/loading-indicator",["require","exports","nprogress","aurelia-framework"],function(t,e,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.loading=!1}return t.prototype.loadingChanged=function(t){t?i.start():i.done()},t}();__decorate([a.bindable,__metadata("design:type",Object)],n.prototype,"loading",void 0),n=__decorate([a.noView(["nprogress/nprogress.css"])],n),e.LoadingIndicator=n});var __decorate=this&&this.__decorate||function(t,e,i,a){var n,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};define("resources/sources/local-loader",["require","exports","aurelia-framework","aurelia-fetch-client"],function(t,e,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.client=t,this.client.configure(function(t){t.withBaseUrl("data/").withDefaults({credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"Fetch"}})})}return t.prototype.load_file=function(t){var e=this;this.client.fetch(t).then(function(t){return t.json()}).then(function(t){return e.data=t})},t}();n=__decorate([i.inject(a.HttpClient),i.noView(),__metadata("design:paramtypes",[Object])],n),e.LocalLoader=n}),define("text!app.html",["module"],function(t){t.exports='<template><require from="bootstrap/css/bootstrap.css"></require><require from="./app.css"></require><require from="./navbar"></require><nav-bar router.bind="router"></nav-bar><loading-indicator loading.bind="router.isNavigating"></loading-indicator><div class="container" style="width:100%"><router-view></router-view></div></template>'}),define("text!app.css",["module"],function(t){t.exports="body { padding-top: 70px; }\n\nsection {\n  margin: 0 20px;\n}\n\na:focus {\n  outline: none;\n}\n\n.navbar-nav li.loader {\n    margin: 12px 24px 0 6px;\n}\n\n.no-selection {\n  margin: 20px;\n}\n\n.contact-list {\n  overflow-y: auto;\n  border: 1px solid #ddd;\n  padding: 10px;\n}\n\n.panel {\n  margin: 20px;\n}\n\n.button-bar {\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border-top: 1px solid #ddd;\n  background: white;\n}\n\n.button-bar > button {\n  float: right;\n  margin: 20px;\n}\n\nli.list-group-item {\n  list-style: none;\n}\n\nli.list-group-item > a {\n  text-decoration: none;\n}\n\nli.list-group-item.active > a {\n  color: white;\n}\n"}),define("text!navbar.html",["module"],function(t){t.exports='<template><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle Navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><i class="fa fa-home"></i> <span>${router.title}</span></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav"><li repeat.for="row of router.navigation" class="${row.isActive ? \'active\' : \'\'}"><a data-toggle="collapse" data-target="#bs-example-navbar-collapse-1.in" href.bind="row.href">${row.title}</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="loader" if.bind="router.isNavigating"><i class="fa fa-spinner fa-spin fa-2x"></i></li></ul></div></nav></template>'}),define("text!vis/chart.css",["module"],function(t){t.exports=".bar { fill: steelblue; }\n\n.line {\n  fill: none;\n  stroke: steelblue;\n  stroke-width: 2px;\n}\n\ndiv.tooltip {\n  position: absolute;\n  text-align: center;\n  width: 60px;\n  height: 28px;\n  padding: 2px;\n  font: 12px sans-serif;\n  background: lightsteelblue;\n  border: 0px;\n  border-radius: 8px;\n  pointer-events: none;\n}\n"}),define("text!vpsa/chart.css",["module"],function(t){t.exports=".bar { fill: steelblue; }\n\n.line {\n  fill: none;\n  stroke: steelblue;\n  stroke-width: 2px;\n}\n\ndiv.tooltip {\n  position: absolute;\n  text-align: center;\n  width: 60px;\n  height: 28px;\n  padding: 2px;\n  font: 12px sans-serif;\n  background: lightsteelblue;\n  border: 0px;\n  border-radius: 8px;\n  pointer-events: none;\n}\n\n.line {\n  fill: none;\n  stroke: steelblue;\n  stroke-width: 1.5px;\n  opacity: 0.1;\n  shape-rendering: crisp;\n}\n"}),define("text!empty/no-selection.html",["module"],function(t){t.exports='<template><div class="no-selection text-center"><h2>${message}</h2></div></template>'}),define("text!vis/vis.html",["module"],function(t){t.exports='<template><require from="./chart.css"></require><require from="../charts/dynamic-bar-chart"></require><div class="no-selection text-center"><h2>${test}</h2></div><button class="btn btn-success" click.trigger="add()">Add</button><dynamic-bar-chart mo.bind="test" x_size="500" y_size="200" data.bind="data"></dynamic-bar-chart></template>'}),define("text!vpsa/vpsa.html",["module"],function(t){t.exports='<template><require from="./chart.css"></require><require from="../charts/line-chart"></require><div class="row"><div class="col-md-4"><h2>Params</h2><label for="#param1">Param1:</label><input type="number" value.bind="param1" id="param1" step="0.01"><br><label for="#param2">Param2:</label><input type="number" value.bind="param2" id="param2" step="0.01"> <button type="button" click.delegate="vspa()">Compute</button></div><div class="col-md-8"><div class="row"><div class="col-md-6"><line-chart mo.bind="test" x_size="400" y_size="200" x_attribute="x" y_attribute="pop" data.bind="data"></line-chart></div><div class="col-md-6"><line-chart mo.bind="test" x_size="400" y_size="200" x_attribute="x" y_attribute="sus" data.bind="data"></line-chart></div></div><div class="row"><div class="col-md-6"><line-chart mo.bind="test" x_size="400" y_size="200" x_attribute="x" y_attribute="inf" data.bind="data"></line-chart></div><div class="col-md-6"><line-chart mo.bind="test" x_size="400" y_size="200" x_attribute="x" y_attribute="rec" data.bind="data"></line-chart></div></div></div></div><div></div></template>'});